(function(f){var j=function(n,r){var p=r.split(".");var q=n;for(var o=0;o<p.length;o++){q=q[p[o]]}return q};var e=function(n,s,q){var p=s.split(".");var r=n;for(var o=0;o<p.length;o++){if(o+1>=p.length){r[p[o]]=q}else{if(null==r[p[o]]){r[p[o]]={}}r=r[p[o]]}}};var l=function(n,q,o){for(var s in n){var r=(q)?q+"."+s:s;var p=typeof(n[s]);if("object"===p){if(n[s] instanceof Date){o[r]=m(j(n,s))}else{o=l(n[s],r,o)}}else{if("function"===p){}else{if(o==null){o={}}o[r]=j(n,s)}}}return o};var k=function(n){var o=n.attr("type");if(o==null){o=n[0].tagName.toLowerCase()}return o};var g=function(){var p=k(f(this));var n=f(this).data("bindData.data").bean;var o=f(this).data("bindData.data").transforms;var r=f(this).attr("name");var q=null;switch(p){case"checkbox":q=f(this).is(":checked");break;default:q=f(this).val();break}q=d("get",q,c(r,o));e(n,r,q);console.log(r+" changed: "+q)};var c=function(o,p){var n=[];f.each(p,function(r,q){if(q.name.test(o)){n.push(q.getset)}});return n};var d=function(p,q,o){var n=q;f.each(o,function(s,r){n=r(p,n)});return n};var a=function(n,r,p){for(var s in r){var o=c(s,p);var q=d("set",r[s],o);b(n,s,q)}};var h=function(o){var n=o.substring(o.length-1,o.length);if(n=="Z"||n=="z"){return o.substring(0,o.length-1)}return o};var m=function(n){if(typeof n=="object"){if(n instanceof Date){n=n.toJSON()}}return n};var i=function(o,q,p){var n=function(s,u){var r=f(u).attr("name");var t=k(f(u));var v=null;switch(t){case"hidden":case"text":case"select":v=f(u).val();break;case"radio":if(f(u).is(":checked")){v=f(u).val()}else{return}break;case"checkbox":v=f(u).is(":checked");break;case"textarea":v=f(u).val();break;default:v=f(u).val()}v=d("get",v,c(r,p));e(q,r,v)};o.find("input").each(n);o.find("select").each(n)};var b=function(n,p,s){var q=n.find('[name="'+p+'"]');var r=k(q);switch(r){case"hidden":case"text":case"select":q.val(s);break;case"radio":q.filter('[value="'+s+'"]').prop("checked",true);break;case"checkbox":if(true===s){q.prop("checked",true)}else{q.prop("checked",false)}break;case"textarea":q.val(s);break;case"date":var o=s.indexOf("T");if(o>=0){s=s.substring(0,o)}s=h(s);q.val(s);break;case"time":var o=s.indexOf("T");if(o>=0){s=s.substring(o+1)}s=h(s);q.val(s);break;case"datetime-local":s=h(s);q.val(s);break;default:q.val(s)}};f.fn.binddata=function(u,s){if(null==u){return this}var r=this;var t={bindAll:true,onlyGetOrSet:"",transforms:[]};f.extend(t,s);var q=l(u);switch(t.onlyGetOrSet){case"set":a(this,q,t.transforms);return this;case"get":i(this,u,t.transforms);return this}var p={bean:u,transforms:t.transforms};if(t.bindAll===false){for(var o in q){var v=this.find('[name="'+o+'"]');v.data("bindData.data",p);v.on("change",g)}a(this,q,p.transforms)}else{var n=function(x,z){var y=f(z);var w=y.attr("name");y.data("bindData.data",p);y.on("change",g)};this.find("input").each(n);this.find("select").each(n);a(this,q,p.transforms)}return this}})(jQuery);